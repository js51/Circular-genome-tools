from cgt import *
from sage.all_cmdline import *  # import sage library

def wreath_multiply_1(w,v):
	return (tuple(v[0][w[1].inverse()(i+1) - 1]*a for i,a in enumerate(w[0])),v[1]*w[1])

def wreath_multiply_2(w,v):
	return (tuple(w[0][v[1](i+1) - 1]*a for i,a in enumerate(v[0])),v[1]*w[1])


HO = gap.new('WreathProduct(CyclicGroup(2),SymmetricGroup(4))')
a = list(HO.Elements())[219]
b = list(HO.Elements())[311]

show(a)
show(b)
show(b*a)


S_4 = SymmetricGroup(4)
C_2 = SymmetricGroup(2)

w = ((C_2((1,2)),C_2(()),C_2(()),C_2((1,2))), S_4("(2,3,4)"))
v = ((C_2((1,2)),C_2((1,2)),C_2(()),C_2(())), S_4("(1,4)(2,3)"))

show(w,v)
show(wreath_multiply_1(w,v))
show(wreath_multiply_2(w,v))


